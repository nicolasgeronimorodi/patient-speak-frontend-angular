<div class="flex flex-col min-h-screen">
    <!-- TopBar -->
    <app-top-bar [isAdmin]="isAdmin" [appTitle]="appTitle" (logoutEvent)="logout()"></app-top-bar>

    <!-- Breadcrumb -->
    <div class="px-6 pt-2">
        <app-breadcrumb></app-breadcrumb>
    </div>

    <!-- Layout -->
    <div class="flex flex-1 overflow-hidden">
        <aside [ngClass]="sidebarCollapsed ? 'w-16' : 'w-64'" class="transition-all duration-300 border-r border-gray-200 dark:border-gray-700">
            <app-sidebar [isAdmin]="isAdmin" [collapsed]="sidebarCollapsed" (toggle)="toggleSidebarState()"></app-sidebar>
        </aside>

        <main class="flex-1 p-6 overflow-y-auto transition-all duration-300">
            <ng-content></ng-content>
        </main>
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 text-center py-4 text-sm text-gray-600 dark:text-gray-400">
        <p>&copy; {{ currentYear }} {{ appTitle }}</p>
    </footer>
</div>